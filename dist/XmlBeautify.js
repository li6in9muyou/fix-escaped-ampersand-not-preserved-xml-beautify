/*! For license information please see XmlBeautify.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.XmlBeautify=t():e.XmlBeautify=t()}(this,(()=>(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.d(t,{default:()=>n});var n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t||{};this.userExternalParser=!1,r.parser?(this.userExternalParser=!0,this.parser=new r.parser):this.parser=new DOMParser}var t,n,l;return t=e,(n=[{key:"hasXmlDef",value:function(e){return e.indexOf("<?xml")>=0}},{key:"getEncoding",value:function(e){if(!this.hasXmlDef(e))return null;var t=e.toLowerCase().indexOf('encoding="')+'encoding="'.length,r=e.indexOf('"?>');return e.substr(t,r-t)}},{key:"_children",value:function(e){for(var t=[],r=e.childNodes.length,n=0;n<r;n++)1===e.childNodes[n].nodeType&&t.push(e.childNodes[n]);return t}},{key:"beautify",value:function(e,t){var r=this,n=r.parser.parseFromString(e,"text/xml"),l="  ",a=!1;t&&(t.indent&&(l=t.indent),1==t.useSelfClosingElement&&(a=t.useSelfClosingElement));var i=null;r.hasXmlDef(e)&&(i='<?xml version="1.0" encoding="'+r.getEncoding(e)+'"?>');var o={indentText:l,xmlText:"",useSelfClosingElement:a,indentLevel:0};r.userExternalParser?r._parseInternally(this._children(n)[0],o):r._parseInternally(n.children[0],o);var s="";return i&&(s+=i+"\n"),s+=o.xmlText}},{key:"_parseInternally",value:function(e,t){var r,n=this,l=e.textContent;0==(l=(l=(l=(l=(l=l.replaceAll(/&/g,"&amp;")).replaceAll(/\"/g,"&quot;")).replaceAll(/\'/g,"&apos;")).replaceAll(/>/g,"&gt;")).replaceAll(/</g,"&lt;")).replace(/ /g,"").replace(/\r?\n/g,"").replace(/\n/g,"").replace(/\t/g,"").length&&(l=""),r=n.userExternalParser?!(n._children(e).length>0):!(e.children.length>0);var a=l&&l.length>0,i=r&&a,o=r&&!a,s=t.useSelfClosingElement,d="";if(i){var c=n._getFirstCDATAChild(e),u=c.hasCDATAChild,h=c.content;d+=u?h:l}for(var f,p="",x=0;x<t.indentLevel;x++)p+=t.indentText;t.xmlText+=p,t.xmlText+="<"+e.tagName;for(var g=0;g<e.attributes.length;g++){var m=e.attributes[g];t.xmlText+=" "+m.name+'="'+m.textContent+'"'}t.xmlText+=o&&s?" />":">",i?t.xmlText+=d:o&&!s||(t.xmlText+="\n"),t.indentLevel++,f=n.userExternalParser?n._children(e).length:e.children.length;for(var v=0;v<f;v++){var y=void 0;y=n.userExternalParser?n._children(e)[v]:e.children[v],n._parseInternally(y,t)}if(t.indentLevel--,o)if(s);else{var T="</"+e.tagName+">";t.xmlText+=T,t.xmlText+="\n"}else{var C="</"+e.tagName+">";r&&a||(t.xmlText+=p),t.xmlText+=C,t.xmlText+="\n"}}},{key:"_getFirstCDATAChild",value:function(e){for(var t=e.childNodes.length,r="",n=!1,l=0;l<t;l++)3===e.childNodes[l].nodeType?e.childNodes[l].data.replace(/ /g,"").replace(/\r?\n/g,"").replace(/\n/g,"").replace(/\t/g,"").length>0&&(r+=e.childNodes[l].data):4===e.childNodes[l].nodeType&&(r+="<![CDATA[",r+=e.childNodes[l].data,r+="]]>",n=!0);return n?{hasCDATAChild:!0,content:r}:{hasCDATAChild:!1}}}])&&r(t.prototype,n),l&&r(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}();return t=t.default})()));